var ta=window.ta||{};var define;ta.rollupAmdShim=ta.rollupAmdShim||(function(){var l={};var r={};var a={};var q=[];var p=null;var n={ta:ta};var e=null;var j=null;var d=function(x){var y=console&&(console.error||console.log);y&&y.apply(console,arguments)};function o(B,A){var C,y,F,E;for(C=0;B&&B.length&&C<B.length;++C){l[B[C]]=true}for(C=0;A&&A.length&&C<A.length;++C){r[A[C]]=true}if(typeof define!=="undefined"&&define.isDummyDefine){var z=define.pendingDefinitions;if(z&&z.length){for(C=0;C<z.length;C++){y=z[C];i.apply(null,y)}}define=null}if(typeof require!=="undefined"&&require.isDummyRequire){var D=require.pendingRequirements;if(D&&D.length){for(C=0;C<D.length;C++){F=D[C];m.apply(null,F)}}var x=require.pendingConfigs;if(x&&x.length){for(C=0;C<x.length;C++){E=x[C];m.config.apply(null,E)}}require=null}if((typeof define!=="function")||!define.isTaRollupShim){if(typeof define==="function"){e=define}else{e=null}define=i}if((typeof require!=="function")||!require.isTaRollupShim){if(typeof require==="function"){j=require}else{j=null}require=m}}function i(y,C,D,x){var z,B;var A=[];if(typeof y==="string"&&typeof C==="object"&&typeof D==="function"){if(n.hasOwnProperty(y)||(a[y]&&a[y].deps)){return}B=c(C,A);if(B){z=D.apply(null,B);h(y,z)}else{s(A,{deps:C,cb:D,defname:y},i.depLoader)}}else{if(e){return e(y,C,D,x)}else{d("invalid args for AMD define: "+typeof(y)+", "+typeof(C)+", "+typeof(D))}}}i.amd=true;i.isTaRollupShim=true;i.depLoader=function(){};i.depLoader.isDefault=true;function m(x,D,y,C){var A=null;if(typeof x==="string"&&typeof D!=="function"){try{A=c([x]);if(!A&&j){A=[j(x,D,y,C)]}}catch(B){}if(!A){throw w(x)}return A[0]}else{if(typeof x==="object"&&typeof D==="function"){var z=[];A=c(x,z);if(A){D.apply(null,A)}else{s(z,{deps:x,cb:D,eb:(typeof y==="function"&&y)},i.depLoader)}}else{if(j){return j(x,D,y,C)}else{d("invalid args for AMD require: "+typeof(x)+", "+typeof(D)+". Expected either a string-literal singular dependency (i.e. synchronous) or an array of dependencies with a callback function (i.e. async).")}}}}m.isTaRollupShim=true;m.undef=function(x){delete n[x]};m.config=function(){if(j&&j.config){j.config.apply(j,arguments)}};m.defined=function(x){if(n.hasOwnProperty(x)){return true}if(a.hasOwnProperty(x)){return false}return j&&j.defined&&j.defined(x)};m.parsed=function(x){if(n.hasOwnProperty(x)){return true}return(a[x]&&a[x].deps)};m.specified=function(x){if(n.hasOwnProperty(x)||a[x]){return true}return j&&j.specified&&j.specified(x)};function c(D,y){var A,x,B,z;var C=[];for(A=0;A<D.length;++A){x=D[A];z=null;if(x){if(n.hasOwnProperty(x)){z=n[x];C.push(z)}else{if(r[x]){B=x.split("/");if(B[0]==="underscore"){B[0]="_"}for(z=window;B.length>1&&z;z=z[B.shift()]){}if(B.length>0&&z){z=z[B[0]]||z[B[0].toLowerCase()]}if(z){n[x]=z;C.push(z)}else{y.push(x)}}else{if(y){y.push(x)}}}}else{C.push(null)}}if(C.length!==D.length){return}return C}function w(x){var D,y,E,z;var C="Missing immediately required dependency: "+x;for(D=0;D<10;D++){var B=a[x];if(!B){C+=" (not specified)";break}if(B.error){C+=" ("+B.error+")";break}x=null;z=B.deps;if(z){for(y=0;y<z.length;y++){E=z[y];if(!n.hasOwnProperty(E)){x=E;break}}}if(!x){break}C+=" -> "+x}var A=new Error(C);if(window.IS_DEBUG&&console.error){console.error(A)}return A}function s(H,B,I){var C=[];var G=[];var z=[];var K;var L;var x;var y;var A,J,F;B.deps=B.deps||[];if(B.defname){y=a[B.defname];a[B.defname]=B;if(y&&y!==B&&y.needers&&y.needers.length){B.needers=(y.needers||[]).concat(B.needers||[])}}for(var A=0;A<H.length;A++){K=H[A];J=K.lastIndexOf("!");if(J>=0){C.push(K.substring(0,J));G.push(K.substring(J+1))}else{C.push(null);G.push(K)}}C=c(C,z);if(!C){return s(z,B)}for(var A=0;A<H.length;A++){L=C[A];x=a[H[A]];if(!x&&!n.hasOwnProperty(H[A])){x={defname:H[A]};a[H[A]]=x;var E=f(x);var M=k(x);E.error=M;try{if(L){L.load(G[A],m,E,{})}else{if(I){I(G[A],m,E,{})}else{if(j&&!j.taVer){j([x.defname],E,M)}else{throw new Error("no loader for AMD module '"+x.defname+"'")}}}F=true}catch(D){B.error=D;M(D)}}}B.need=0;for(var A=0;A<H.length;A++){K=H[A];x=a[K];if(x&&!n.hasOwnProperty(K)&&!x.error){x.needers=x.needers||[];x.needers.push(B);B.need+=1}}if(!B.need&&F){q.push(B);if(!p){p=setTimeout(b,0)}}}function b(){var z,D,C,y,x;p=-1;while(q.length>0){var A=q.shift();if(!A){continue}try{if(A.error){if(A.defname){g(A.defname)}continue}C=[];x=typeof A.deps=="string"?[A.deps]:A.deps;D=c(x||[],C);if(C.length>0){s(C,A);continue}y=null;if(A.cb){y=A.cb.apply(null,D)}A.deps=[];A.cb=null;if(A.defname){h(A.defname,y)}}catch(B){d("Error propagating dependency resolutions: ",B)}}p=null}function f(x){return function(y){if(x.defname){h(x.defname,y)}}}function k(x){return function(y){if(x.defname){x.error="Error loading '"+x.defname+"': "+y;d(x.error);x.need=0;x.deps=[];g(x.defname)}}}function h(A,B){if(n[A]){return}var C=a[A];n[A]=B;delete a[A];if(l[A]){var y=A.split("/");var D=ta;var z;if(y[0]==="ta"){y.shift()}while(y.length>1){z=y.shift();if(!D[z]){D[z]={}}D=D[z]}if(y.length>0){z=y.shift();if(!(z in D||z.toLowerCase() in D)){D[z]=B;D[z.toLowerCase()]=B}}}if(e){e(A,[],v(B))}if(C){while(C.needers&&C.needers.length>0){var x=C.needers.shift();x.need-=1;if(!x.need){q.push(x)}}}if(q.length&&!p){p=setTimeout(b,0)}}function g(z){var B=a[z];if(B){var y=B.eb;B.deps=null;B.cb=null;B.eb=null;if(!B.error){B.error="Error loading '"+B.defname+"'"}while(B.needers&&B.needers.length>0){var x=B.needers.shift();x.error="failed to load dependency '"+z+"' of '"+x.defname+"'";if(x.need>0){x.need=0;q.push(x)}if(window.IS_DEBUG&&console.error){console.error(x.error)}}if(y!=null){try{y(B.error)}catch(A){}}}if(q.length&&!p){p=setTimeout(b,0)}}function v(y){return function(){return y}}function t(){var B,z,x,A=[],y=[];if(!a){return}if(p){setTimeout(t,0);return}for(B in a){if(a.hasOwnProperty(B)){z=a[B];if(z.deps&&z.deps.length){for(x=0;x<z.deps.length;x++){if(z.deps[x]&&z.deps[x].indexOf("trjs!")!==-1){A.push(z.deps[x])}}c(A,y);if(y.length===0){continue}}d("Load event fired but we have not loaded '"+z.defname+"'"+(z.deps&&z.deps.length?" due to missing dependencies: "+y:""))}}}if(window.addEventListener){window.addEventListener("load",t)}else{if(window.attachEvent){window.attachEvent("onload",t)}}var u={install:o};u.install();h("ta/rollupAmdShim",u);return u})();require(["ta/rollupAmdShim"],function(a){a.install(["modules/component/BounceUserTracking"],[])});if(window.requirejs&&requirejs.taConfig){requirejs.taConfig({deferred:{},name:"bounce_user_tracking",files:{js3:{src:{modules:{component:{BounceUserTracking:1}}}}},_:{baseUrl:"/"}})};define("vanillajs",[],function(){return{}});define("ta/Core/TA.PageVisibility",["vanillajs"],function(i){var j=[],k=[],g=false,m=false;var d,l;if(typeof document.hidden!=="undefined"){d="hidden";l="visibilitychange"}else{if(typeof document.mozHidden!=="undefined"){d="mozHidden";l="mozvisibilitychange"}else{if(typeof document.msHidden!=="undefined"){d="msHidden";l="msvisibilitychange"}else{if(typeof document.webkitHidden!=="undefined"){d="webkitHidden";l="webkitvisibilitychange"}}}}function h(){m=false;for(var n in k){if(k.hasOwnProperty(n)){k[n]()}}}function e(){m=true;for(var n in j){if(j.hasOwnProperty(n)){j[n]()}}}function f(){var o=document[d]?j:k;for(var n in o){if(o.hasOwnProperty(n)){o[n]()}}}function a(){if(typeof document[d]==="undefined"){if(document.addEventListener){document.addEventListener("focus",h,false);document.addEventListener("blur",e,false)}else{document.attachEvent("onfocus",h);document.attachEvent("onblur",e)}}else{document.addEventListener(l,f)}g=true}function b(){if(typeof document[d]==="undefined"){if(document.removeEventListener){document.removeEventListener("focus",h,false);document.removeEventListener("blur",e,false)}else{document.detachEvent("onfocus",h);document.detachEvent("onblur",e)}}else{document.removeEventListener(l,f)}m=false;g=false}function c(p,o){var n=p.indexOf(o);if(n>=0){return p.splice(n,1)}return null}return{addFocusListener:function(n){k.push(n);if(!g){a()}},addBlurListener:function(n){j.push(n);if(!g){a()}},removeFocusListener:function(n){if(n){c(k,n)}else{k.length=0}if(k.length===0&&j.length===0){b()}},removeBlurListener:function(n){if(n){c(j,n)}else{j.length=0}if(k.length===0&&j.length===0){b()}},hidden:function(){if(typeof document.hidden!=="undefined"){return document.hidden}return m}}});define("ns-exporter",["vanillajs"],function(b){function a(d){if(!d){if(require.defined("ta/util/Error")){require("ta/util/Error").record(null,"Using ns-exporter:exportTo without a namespace")}return null}if(typeof d=="string"){var c=window;if(!c.ta){ta={}}d.split(".").forEach(function(e){if(!c[e]){c[e]={}}c=c[e]});d=c}return d}return{exportTo:function(e,d){d=a(d);if(!d){return false}for(var c in e){if(e.hasOwnProperty(c)){d[c]=e[c]}}return true},createNs:function(d,c,e){c=a(c);if(!c){return false}c[e]=d}}});define("ta/util/Object",["vanillajs","ns-exporter"],function(b,c){var a={};a.typeOf=function(d){return Object.prototype.toString.call(d).match(/(\w+)\]$/)[1].toLowerCase()};a.merge=function(j){for(var e=1;e<arguments.length;e++){var g=arguments[e];if(!g){continue}j||(j=(a.typeOf(g)==="array")?[]:{});for(var d in g){var h=g[d];if(g.hasOwnProperty(d)&&a.typeOf(h)!=="undefined"){var f=a.typeOf(h);if(f==="string"||f==="number"||f==="boolean"||f==="function"||h===null){j[d]=h;continue}j[d]=a.merge(j[d],h)}}}return j};c.exportTo(a,"ta.util");return a});define("ta/Core/TA.Store",["vanillajs","ns-exporter","ta/util/Object"],function(c,e,a){var d={};var b={};b.store=function(f,g){d[f]=g;return g};b.retrieve=function(f){return d[f]};b.has=function(f){return typeof(d[f])!="undefined"};b.retrieveOrStore=function(f,g){var h=d[f];if(typeof(h)=="undefined"){d[f]=g;h=g}return h};b.remove=function(f){var g=d[f];delete d[f];return g};b.keep=function(h,i){var f=b.retrieve(h),g;if(f){g=f instanceof Array?f:[f]}else{g=[]}if(i instanceof Array){i.forEach(function(j){if(!g.contains(j)){g.push(j)}})}else{g.push(i)}b.store(h,g)};b.merge=function(f,g){b.store(f,a.merge(b.retrieve(f)||{},g))};b.asInt=function(g,f){var h=parseInt(b.retrieve(g));return isNaN(h)?(f||0):h};b.asFloat=function(h,g){var i=parseFloat(b.retrieve(h));return isNaN(i)?(g||0):i};b.executeCallbacks=function(g){if(b.has(g)){var h=b.retrieve(g);if(!h instanceof Array){return}for(var f=0;f<h.length;f++){h[f]()}}};e.exportTo(b,"ta");return b});define("purify",["vanillajs"],function(c){function b(e,d){if(!e){return e}if(a(e)){if(window.IS_DEBUG){console.error("You're using a jQuery object where you shouldn't. Check the stack trace and fix it!")}return d&&e.length>1?e.get():e.get(0)}return e.forEach&&(e.length<=1||!d)?e[0]:e}function a(d){return !!(d.animate&&d.get&&d.eq&&d.each)}return b});define("ta/Core/TA.Record",["vanillajs","ns-exporter","ta/Core/TA.Store","purify"],function(v,g,d,R){var F={};var H={};var L=[];var Q=8;var b="impressionTrackingTree";var f=0,h=1,p=2;var j=[];var G=60;var K=function(aa){return typeof aa==="function"};var B=function(){var ab=["MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],ad;if(window.XMLHttpRequest){ad=new XMLHttpRequest()}else{for(var aa=0;aa<ab.length;aa++){try{ad=new ActiveXObject(ab[aa]);break}catch(ac){}}}return ad};var n=function(aa,ab){try{if(!aa||typeof ab!=="object"){return}if(window.JSON&&JSON.stringify){var ac=JSON.stringify(ab);if(ac&&ac.length<100000){j.push([aa,ac]);if(j.length>G){j.shift()}}}}catch(ad){}};var u=function(af,ab,ag){if(!af||typeof ab!=="object"){E(new Error("postUrl/dataObj is null/empty/undefined"),"TA.Record _simpleAjaxPost",null,arguments);if(ag){ag()}return}var ac;if(typeof Request!=="undefined"&&window.MooTools){ac={url:af,method:"post",data:ab};if(ag){ac.onComplete=ag;ac.timeout=3000}var ad=new Request(ac).send();n(af,ab);return ad}else{if(typeof Zepto!=="undefined"&&Zepto&&K(Zepto.ajax)){ac={type:"POST",url:af,data:ab,error:function(aj,ah){var ai=/InvalidTrackingTreeException/;if(window.IS_DEBUG&&new RegExp(ai).exec(aj.response)){var ak=/Caused by:\s(.*)\n/;alert("TRACKING ERROR DETECTED\n"+new RegExp(ak).exec(aj.response)[1])}E(new Error("XHR error, errorType = "+ah),"TA.Record _simpleAjaxPost",null,arguments)}};if(ag){ac.complete=ag;ac.timeout=3000}Zepto.ajax(ac)}else{if(typeof jQuery=="function"){ac={url:af,type:"POST",data:ab};if(ag){ac.complete=ag;ac.timeout=3000}jQuery.ajax(ac)}else{var aa=B(),ae=i(ab);aa.open("POST",af,false);aa.setRequestHeader("Content-type","application/x-www-form-urlencoded");aa.send(ae)}}}n(af,ab)};var E=function(){if(require.defined("ta/util/Error")){require("ta/util/Error").record.apply(this,arguments)}else{if(ta&&ta.m&&K(ta.m.recordJSError)){ta.m.recordJSError(arguments)}}};var C=function(aa){if(typeof aa=="undefined"||aa==null){return""}if(typeof aa!=="string"){aa=aa.toString()}return aa.replace(/!/g,"!!").replace(/\./g,"!.").replace(/\*/g,"!*")};var Z=function(ad){var aa=[];for(var ab in ad){var ac=ad[ab];aa.push(C(ab)+"."+C(ac))}return aa.join("*")};var z=function(aa){if(typeof aa=="undefined"||aa===null){return""}if(typeof aa!=="string"){aa=aa.toString()}return aa.replace(/!/g,"!!").replace(/\./g,"!.").replace(/\*/g,"!*").replace(/\~/g,"!~")};var t=function(ad){var aa=[];for(var ab in ad){var ac=ad[ab];aa.push(z(ab)+"."+z(ac))}return aa.join("*")};var r=function(aa){var ab=/(https?:\/\/[^\/]+)?\/([^#.?-]*)/;var ac=ab.exec(aa);if(ac){if(typeof ac[2]!="undefined"){return(ac[2])?ac[2]:"Home"}}return null};var V=function(){var aa=F.getPageData();if(aa&&aa.url){return aa.url.substring(1)}else{var ab=/\/([^-]*)/.exec(window.location.pathname);return ab?ab[1]:null}};var W=function(ac,aa,ad){var ab=new RegExp("(-"+aa+"([0-9]+))|([?&]"+ad+"=([0-9]+))");var ae=ab.exec(ac);if(ae){if(typeof ae[2]!="undefined"){return ae[2]}if(typeof ae[4]!="undefined"){return ae[4]}}return null};var M=function(aa){return W(aa,"d","detail")||W(aa,"g","geo")};var O=function(aa){var ab=document.cookie.match("(?:^|;)\\s*"+aa+"=([^;]*)");if(ab){ab=ab[1];if(ab.indexOf("%1%")===0){ab=ab.substring(3)}return decodeURIComponent(ab)}return false};var s=function(ad,ae,ab){try{var aa;if(ab.encode){ae=encodeURIComponent(ae)}if(ab.domain){ae+="; domain="+ab.domain}if(ab.path){ae+="; path="+ab.path}if(ab.duration){aa=new Date();aa.setTime(aa.getTime()+ab.duration*1000);ae+="; expires="+aa.toGMTString()}if(ab.secure){ae+="; secure"}document.cookie=ad+"="+ae}catch(ac){E(ac,"_setCookieInSeconds",null,arguments)}};var Y=function(){if(ta.m&&ta.m.store&&ta.m.store.has("bookingSessionId")){return ta.m.store.get("bookingSessionId")}return null};var D=function(){var aa=false;if(typeof ta.userLoggedIn==="boolean"){if(typeof ta.userSecurelyLoggedIn==="boolean"){aa=ta.userLoggedIn?(ta.userSecurelyLoggedIn?p:h):f}else{aa=ta.userLoggedIn}}return aa};var T=function(ad,ab){var aa={gac:ad[1],gaa:ad[2],gal:ad[3],gav:ad[4],gani:ad[5],gass:V(),gasl:M(document.location.href),gads:r(ab),gadl:M(ab),gapu:ta.uid,gams:D()},ac=Y();if(!aa.gass){throw new Error("Src servlet undefined, gac:"+aa.gac+", gaa:"+aa.gaa+", gal:"+aa.gal)}if(!aa.gads){throw new Error("Dst servlet undefined. gac:"+aa.gac+", gaa:"+aa.gaa+", gal:"+aa.gal)}if(d.has("gatt")){aa.gatt=d.retrieve("gatt")}if(ac){aa.bsid=ac}s("EVT",Z(aa),{domain:cookieDomain,duration:5,encode:true,path:"/"})};var U=function(ad){if(!ad||!ad.className||!ad.firstChild){return false}var ac=new RegExp("\\b"+b+"\\b"),aa=ad.firstChild.nodeType,ab=ad.firstChild.nodeValue;return ac.test(ad.className)&&aa===Q&&ab!==""};var k=function(){};if(require.defined("page-model")){require(["page-model"],function(aa){var ac=aa.session;var ab=ac.analyticsInfo;if(ab){d.keep("partials.pageProperties",ab.pagePropertyStringForCurrentPageview);d.store("gaMemberState",ab.memberState);if(ac.analyticsInfo&&require.defined("ta/Core/TA.Prerender")){require("ta/Core/TA.Prerender")._init(true)}}k=function(){if(ab){L.push(JSON.parse(ab.jsonForCurrentPageview))}k=function(){}}})}F.getPageData=function(){k();return L[L.length-1]};F.pushPageData=function(aa){k();if(aa){L.push(aa)}};F.popPageData=function(){k();return L.pop()};F._GARecordRequest=function(af,ad){var ab={gac:af[1],gaa:af[2],gal:af[3],gav:af[4],gani:af[5],gass:V(),gasl:M(document.location.href),gapu:ta.uid,gams:D()},ae=Y(),aa;if(ad){ab.gacl=ad}if(d.has("gatt")){ab.gatt=d.retrieve("gatt")}if(ae){ab.bsid=ae}var ac;try{if(d.retrieve("batch_garecord")){ac=require("utils/BatchRequest")}else{if(ta.m&&ta.m.batch_garecord_mobile){ac=require("mobile/lite/batch-request")}}}catch(ag){}if(ac){aa={get:function(){ac.queue("/GARecord",ab)}}}else{aa={get:function(){setTimeout(function(){var ah=new XMLHttpRequest();ah.open("GET","/GARecord?"+i(ab),true);ah.send(null)},1)}}}n("/GARecord",ab);return aa};var i=function(ab){var ac=[];for(var aa in ab){ac.push(encodeURIComponent(aa)+"="+encodeURIComponent(ab[aa]))}return ac.join("&")};H.urlArgLookup=function(ad,aa){var ac=new RegExp("[\\?&]"+ad+"=(\\w+)");var ab=ac.exec(aa);if(ab&&typeof ab[1]!="undefined"){return ab[1]}return null};F._validatedTrackEventArray=function(ac,ae,aa,ad,ab){if(ac&&typeof ac!="string"){ac=ac.toString()}if(ae&&typeof ae!="string"){ae=ae.toString()}if(aa&&typeof aa!="string"){aa=aa.toString()}if(!ad){ad=0}else{if(typeof ad!="number"){ad=parseFloat(ad);if(isNaN(ad)){ad=0}}}if(typeof ab!="boolean"){ab=(ab===true)}return["_trackEvent",ac,ae,aa,ad,ab]};F._toEvtParams=function(ac){try{var aa={gac:ac.module,gaa:ac.action,gal:ac.context,gav:ac.value,gani:ac.noninteraction};aa.gass=V();aa.gasl=M(document.location.href);aa.gapu=ta.uid;aa.gams=D();return aa}catch(ab){E(ab,"analytics._toEvtParams",null,ac)}};F._trackEventAfterAjax=function(ab){try{H.trackDMPBehavior(ab.module,ab.action,ab.context,ab.value,ab.noninteraction)}catch(aa){E(aa,"analytics._trackEventAfterAjax",null,ab)}};H.getEventPathOptions=function(af,ac,ab){try{var ae=w(ab,af);if(!ae){E(null,"ta.getEventPathOptions - invalid element",null,arguments);return}var aa=J(ae);if(ac){aa.noninteraction=ac}return aa}catch(ad){E(ad,"ta.getEventPathOptions",null,arguments)}};F._trackEventPathAfterAjax=function(aa){try{H.trackEventOnPage(aa.category,aa.action,aa.label,aa.value,aa.noninteraction)}catch(ab){E(ab,"analytics._trackEventPathAfterAjax",null,arguments)}};H.trackPhysicalCommerce=function(ac,ab,af,aa){try{var ad=F._validatedTrackEventArray(ac,"Commerce-Physical",ab,af,false);F._GARecordRequest(ad,aa).get()}catch(ae){E(ae,"ta.trackPhysicalCommerce",null,arguments)}};H.trackAttemptedCommerce=function(ab,aa,ad){try{H.trackDMPBehavior(ab,aa,ad,null,null)}catch(ac){E(ac,"ta.trackAttemptedCommerce",null,arguments)}};H.trackPhysicalAndAttemptedCommerce=function(ac,ab,ad,ae,aa){H.trackPhysicalCommerce(ac,ab,ae,aa);H.trackAttemptedCommerce(ac,ab,ad,ae)};H.trackImpressionEventOnPage=function(ab,ad,aa,ac){ab=ab||"";ad=ad||"";aa=aa||"";ac=ac||0;H.trackEventOnPage(ab,ad,aa,ac,true)};H.trackEventOnPage=function(ab,af,aa,ae,ad){try{var ac=F._validatedTrackEventArray(ab,af,aa,ae,ad);F._GARecordRequest(ac).get();H.trackDMPBehavior(ab,af,aa,ae,ad)}catch(ag){E(ag,"ta.trackEventOnPage",null,arguments)}};H.trackCommerceClickForInsight=function(af){if(!d.retrieve("insight_profile_commerce_clicks_from_data_attributes.enabled")){return}try{var ai,ab,ag,aa,ad,aj,ac,ae;ai=af.getAttribute("data-offerauthor");ab=af.getAttribute("data-locationId");ag=af.getAttribute("data-pernight");ad=ta.meta.link.getUrlFromClickElem(af);aj=ta.popups.PopUtil.extractSlotFromCommerceUrl(ad);aa=M(document.location.href);ac={};ac.providerName=""+ai;ac.clickLocId=""+ab;ac.price=""+ag;ac.slot=""+aj;ac.pageLocId=""+aa;ae=JSON.stringify(ac);H.trackEventOnPage("InsightEvent","InsightCommerceClick",ae)}catch(ah){E(ah,"ta.trackCommerceClickForInsight",null,arguments)}};H.trackEventOnPageOnce=function(ae,ag,ac,ad){var aa="eventsAlreadyTracked",af;if(ifdefNN(ta)&&ifdefNN(ta.m)&&ifdefNN(ta.m.store)){af=ta.m.store.get(aa)}else{af=d.retrieve(aa)}if(!af){af={};if(ifdefNN(ta)&&ifdefNN(ta.m)&&ifdefNN(ta.m.store)){ta.m.store.add(aa,af)}else{d.store(aa,af)}}var ab=ae+"|"+ag+"|"+ac;if(!af[ab]){H.trackEventOnPage(ae,ag,ac,0,ad);af[ab]=true}};H.trackDMPBehavior=function(ab,ae,aa,ad,ac){try{if(ta.common&&ta.common.dmp&&ta.common.dmp.isEnabled()){ta.common.dmp.sendGABehavior(ab,ae,aa,ad,ac)}}catch(af){E(af,"Error adding and sending GARecord behavior to DMP")}};H.setEvtCookie=function(ac,af,ab,ae,aa){try{var ad=F._validatedTrackEventArray(ac,af,ab,ae,false);T(ad,aa);if(ta.common&&ta.common.dmp&&ta.common.dmp.isEnabled()){ta.common.dmp.sendEventBehavior(ac,af,ab,ae,S())}}catch(ag){E(ag,"ta.setEvtCookie",null,arguments)}};var x=function(ac){var ab;try{ab=O("MEVT")||"";if(ab.length>0){ab+="~"}ab+=t(ac);if(ab.length>1024){throw"MEVT Cookie is full"}s("MEVT",ab,{domain:cookieDomain,duration:5,encode:true})}catch(aa){E(aa,"_appendMevtCookie",null,arguments);return false}return true};var m="trk";var a=m.length;var P="etk";var q=/^([A-Z]{1,2}:)?[A-Za-z_0-9\-\.]+$/;var S=function(){var aa=(typeof event!="undefined")?event:window.event;if(aa){return aa.target||aa.srcElement}return document.activeElement};F.getCommentTrackingPath=function(aa,ab){return w(aa,ab)};var w=function(ag,ai){ag=R(ag);if(!ag){ag=S();if(!ag){E(null,"_getCommentTrackingPath - no element provided or event target element",null,arguments);return null}}if(ag.nodeType!=1){return null}var al=[];if(ai&&typeof ai=="string"&&ai!==""){if(q.test(ai)){if(ai.substring(0,2)=="P:"){al.push(ai.substring(2));return al}else{al.push(ai)}}}if(typeof ag.previousSibling==="undefined"){E(null,"_getCommentTrackingPath - browser does not support previousSibling",null,arguments);return al}LOOP_PARENT_NODES:for(var ad=ag;ad!=document.body;ad=ad.parentNode){if(ad==null){E(null,"_getCommentTrackingPath - LOOP_PARENT_NODES got unexpected null node",null,arguments);break}var aj=0;for(var aa=ad.previousSibling;aa!=null;aa=aa.previousSibling){if(aa.nodeType==Q){var ac=aa.nodeValue;if(ac==P){aj++;continue}if(ac.substring(0,a)!=m){continue}if(aj>0){aj--;continue}var af=ac.substring(a).split("/");if(!af){E(null,'ta._getCommentTrackingPath - cannot split context class: "'+ac+'"',null,arguments)}for(var ak=af.length-1;ak>=0;ak--){var ab=af[ak];var ah=q.exec(ab);if(!ah){E(null,'ta._getCommentTrackingPath - tracking prefix used with invalid context: "'+af[ak]+'"',null,arguments);continue}if(ah[1]=="P:"){var ae=ah[0].substring(2);al.push(ae);break LOOP_PARENT_NODES}else{al.push(ah[0])}}}}}return al};var J=function(ac){if(ac.length===0){return null}var aa={action:ac[0],label:"",value:"1",category:ac[ac.length-1]};ac.shift();for(var ab=ac.length-2;ab>=0;ab--){aa.label+=ac[ab];if(ab>0){aa.label+="/"}if(ac[ab].substring(0,2)=="N:"){aa.value=ac[ab].substring(2)}}if(aa.label===""){aa.label="Unknown"}return aa};H.trk=function(ae,ag,ad,ab){ad=R(ad);try{var ai=ad?ad.getAttribute("data-trk-path"):null;if(ai){ai=ai.replace("P:","");ai=ai.split("/");ai.reverse()}else{ai=w(ad,ae);if(!ai||!ai.length){var ac="";if(ad){if(ad.outerHTML){var ah=document.createTextNode(ad.outerHTML);var aa=document.createElement("div");aa.appendChild(ah);ac=aa.innerHTML.substring(0,100)}else{if(ad.nodeName){ac=ad.nodeName}else{ac+=ad}}}else{if(ad===undefined){ac="undefined"}else{if(ad===null){ac="null"}}}if(!ae){if(ai===null){ae="null path"}else{if(ai===undefined){ae="undefined path"}else{if(ai.hasOwnProperty("length")){if(ai.length===0){ae="empty path"}else{ae=ai.join(",")}}else{ae="path: "+ai}}}}E(null,"ta.trk - invalid element for "+ae+" from "+ac,null,arguments);return}}H.trkWithPath(ai,ag,ab)}catch(af){E(af,"ta.trk",null,arguments)}};H.trkWithPath=function(af,ad,ae){try{if(!af||!af.length){E(null,"ta.trkWithPath - no path in arguments",null,arguments);return}if(ae&&ae.length>0&&af.length&&af.splice){for(var ab=ae.length-1;ab>=0;ab--){if(typeof(ae[ab])==="string"){af.splice(1,0,ae[ab])}}}var aa=J(af);H.trackEventOnPage(aa.category,aa.action,aa.label,aa.value,ad)}catch(ac){E(ac,"ta.trkWithPath - "+ac,null,arguments)}};H.trkImpTree=function(ab,ad){try{if(!U(ab)){E(null,"ta.trkImpTree called with invalid trackTreeElem!",null,arguments);if(ad){ad()}return}var aa=ab.firstChild.nodeValue;o(aa,ad)}catch(ac){E(ac,"ta.trkImpTree",null,arguments);if(ad){ad()}}};H.recordImpression=function(aa,ac){if(!aa){if(ac){ac()}return}try{o(I(aa),ac)}catch(ab){E(ab,"ta.recordImpression",null,arguments);if(ac){ac()}}};var A="<!--";var y="-->";var I=function(aa){var ab=aa.indexOf(A),ac=0,ad=aa.indexOf(y);if(ab!==-1){ac=ab+A.length}if(ad===-1){ad=aa.length}return aa.substring(ac,ad)};F.stripCommentsFromTree=I;var l="\\";var c="/";F.appendAscendTokens=function(ab){var ad=0,ac=0,aa=0;for(ad=0;ad<ab.length;ad++){if(ab[ad]===c){aa++}else{if(ab[ad]===l){ac=ad+1;while(ac<ab.length&&ab[ac]===l){aa--;ad=ac;ac++}}}}if(aa>0){for(ad=0;ad<aa;ad++){ab+=l}}return ab};var o=function(aa,ac){var ab={tTreeStr:aa&&aa.trim(),tTreeUid:ta.uid&&ta.uid.trim(),tTreeLastReferrer:window.location.href,tTreeIsMemberSignedIn:D()};if(ta.m&&ta.m.store&&ta.m.store.has("bookingSessionId")){ab.bsid=ta.m.store.get("bookingSessionId")}if(!ab.tTreeStr){E(new Error("tTreeStr is null/undefined/empty."),"ta._sendTreeImpression",null)}else{if(!ab.tTreeUid){E(new Error("tTreeUid is null/undefined/empty."),"ta._sendTreeImpression",null)}}u("/ImpressionRecord",ab,ac)};H.setEvtCookieAndPath=function(af,aa,ac){try{if(!ac){ac=S()}var ae=w(ac,af);if(!ae){E(null,"ta.setEvtCookieAndPath - invalid element for "+af,null,arguments);return}var ab=J(ae);if(!aa){while(ac.nodeName!="A"){if(ac==document.body){break}ac=ac.parentNode}aa=ac.href;if(!aa){E(null,"ta.setEvtCookieAndPath - no url parameter and cannot find a.href",null,arguments);return}}H.setEvtCookie(ab.category,ab.action,ab.label,ab.value,aa)}catch(ad){E(ad,"ta.setEvtCookieAndPath",null,arguments)}};H.recordPageview=function(ab,ae){if(!ab){return}var aa=r(ab),ad="/PageviewRecord",ac=ae?ae:{};if(aa){ac.servletName=aa;u(ad,ac)}};H.recordTabView=function(af,ab,ae){if(!af||!ab){return}var aa=af+"-"+ab,ad="/PageviewRecord",ac=ae?ae:{};if(aa){ac.servletName=aa;u(ad,ac)}};H.resetPageDataUrl=function(){var aa=F.getPageData();if(aa){aa.url=""}};H.trackEngagementClick=function(aa,ab){if(!aa||!ab){E(new Error("object/selectionFunction is null/undefined"),"ta.trackEngagementClick",null,arguments);return}if(!K(ab)){E(new Error("passed variable selectionFunction is not a function"),"ta.trackEngagementClick",null,ab);return}ab(aa)};H.placementNodeSelectorTracker=function(ag){if(!ag||!ag.element||!ag.type){E(new Error("object/element/type is null/undefined"),"ta.placementNodeSelectorTracker",null,ag);return}var al=ag.element;var af=ag.type;var ah;var ac;var ao;var an;var ab;var ak;var ad=F.getCommentTrackingPath(al);af=af+"_Click";if(!ad){E(new Error("trackTreePath is null/undefined"),"ta.placementNodeSelectorTracker",null,arguments);return}if(ad.length<1){E(new Error("trackTreePath is missing information"),"ta.placementNodeSelectorTracker",null,arguments);return}ah=ad[ad.length-1];if(!ah){E(new Error("placement is null/undefined"),"ta.placementNodeSelectorTracker",null,ad);return}for(ak=ad.length-1;ak>=0;ak--){ab=ad[ak];if(!ab){continue}if(ab.indexOf("N:")===0){ac=ab;break}}if(ah==="HH_MainList"||ah==="Maps_MetaBlock"){ac="N:1"}else{if(!ac){E(new Error("positionNode is null/undefined"),"ta.placementNodeSelectorTracker",null,ad);return}}ao=ac.split(":");if(ao&&ao.length===2){an=ao[1]}else{E(new Error("positionSplit appears to be incorrect"),"ta.placementNodeSelectorTracker",null,arguments);return}if(!an){E(new Error("position is null/undefined"),"ta.placementNodeSelectorTracker",null,arguments);return}var aj=parseInt(an,10);if(isNaN(aj)){E(new Error("position is not a number"),"ta.placementNodeSelectorTracker",null,an);return}var aq=X(ah);if(aq===-1){return}an=aj+aq;ah=e(ah);if(ah==="hotels_slot_x"){var ap=document.getElementById("slotXListingWrap");if(ap){var aa=ap.getAttribute("data-prodAttr");var am=parseInt(ap.getAttribute("data-prodId"),10);H.trackEventOnPage(ah,af,aa,am+1)}return}var ae;var ai=document.querySelectorAll(".ui_tab_bar .ui_tab.selected");if(ai.length===1){ai=ai[0];ae=ai.getAttribute("data-currentSort")}H.trackEventOnPage(ah,af,ae,an)};var e=function(aa){if(!aa){return aa}if(V()!=="Hotels"){return"Clicks_"+aa}var ab;if(aa==="Hotels_MainList"||aa==="Hotels_MainList_Sponsored"){ab="Clicks_"+aa}else{if(aa==="hotels_list_short_cells2"){ab="Clicks_Hotels_MainList"}else{if(aa==="sponsored_coupon_listing"){ab="Clicks_Hotels_MainList_Sponsored"}else{if(aa==="DesktopSlotX"||aa==="MobileSlotX"||aa==="Hotels_SlotX_Sponsored"){return"hotels_slot_x"}}}}if(document.getElementById("sponsoredCouponListingWrap")&&ab==="Clicks_Hotels_MainList"){ab+="_Sponsored"}ab+=(ta.widgets.calendar.getCheckRatesData())?"_PostDates":"_PreDates";return ab};var X=function(ad){if(!ad){E(new Error("placement is null/undefined"),"ta._shiftOrdinalsWithSponsoredPlacement",null,ad);return -1}if(V()!=="Hotels"){return 0}var ab=0;var af=d.retrieve("hac.offset");if(af&&af>0){ab=af}if(!document.getElementById("sponsoredCouponListingWrap")){return ab}var ac=document.querySelector("#HAC_RESULTS .pageNumbers .current");var aa;if(ac){var ae=ac.getAttribute("data-page-number");aa=parseInt(ae,10);if(isNaN(aa)||!aa){E(new Error("pageNumber is not a number"),"ta._shiftOrdinalsWithSponsoredPlacement",null,ae);return -1}}if(ad==="hotels_list_short_cells2"||ad==="Hotels_MainList"){ab+=aa;return ab}if(af&&af>0&&(ad==="sponsored_coupon_listing"||ad==="Hotels_MainList_Sponsored")){ab+=(aa-1)}return ab};H.getRecentTARecords=function(){return j};H.addTypeAheadMevt=function(aa){aa.t="ta";return x(aa)};H.addGARecordMevt=function(ad,ae,ac,ai,ab){try{var aa=F._validatedTrackEventArray(ad,ae,ac,ai,false),ah={t:"ga",gac:aa[1],gaa:aa[2],gal:aa[3],gav:aa[4],gani:aa[5],gass:V(),gasl:M(document.location.href),gads:r(ab),gadl:M(ab),gapu:ta.uid,gams:D()},af=Y();if(!ah.gass){throw new Error("Src servlet undefined, gac:"+ah.gac+", gaa:"+ah.gaa+", gal:"+ah.gal)}if(!ah.gads){throw new Error("Dst servlet undefined. gac:"+ah.gac+", gaa:"+ah.gaa+", gal:"+ah.gal)}if(d.has("gatt")){ah.gatt=d.retrieve("gatt")}if(af){ah.bsid=af}x(ah);if(ta.common&&ta.common.dmp&&ta.common.dmp.isEnabled()){ta.common.dmp.sendEventBehavior(ad,ae,ac,ai,S())}}catch(ag){E(ag,"ta.addGARecordMevt",null,arguments)}};g.createNs(F,"ta","analytics");g.exportTo(H,"ta");var N={};g.exportTo(F,N);g.exportTo(H,N);return N});define("modules/component/BounceUserTracking",["vanillajs","ta/Core/TA.PageVisibility","ta/Core/TA.Record"],function(g,e,c){var n=600000;var l;var m;var b;var k;var h;function j(){h=new Date().getTime();d()}function i(q,p,o,s,u,r,t){l=p;b=k;m=t;d()}function d(){if(!b||!h){return}if(l==="TripAdvisor"){return}if(h>b&&h-b<=n){c.trackEventOnPage("COMMERCE_CLICK","Meta_Bounce",(window.pageServlet||"")+"|"+(m||"")+"|"+(l||""),(h-b));b=false;k=false;ta.fireEvent("metaBounce")}}function a(){k=new Date().getTime()}function f(){ta.on("metaLinkClick",i);e.addFocusListener(j);e.addBlurListener(a);if(window.addEventListener){window.addEventListener("focus",j);window.addEventListener("blur",a)}else{if(window.attachEvent){window.attachEvent("onfocus",j);window.attachEvent("onblur",a)}}}ta.queueForLoad(f,"Bounce meta clicker tracking trigger");return null});